<!DOCTYPE html>
<html lang="en" ng-app="store">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div ng-controller="StoreController as store">

		<ul class="list-group">
			<li class="list-group-item" ng-repeat="product in store.products">
				<h3>
					{{product.name}}
					<em class="pull-right"> {{product.price | currency }} </em>
				</h3>
				<div ng-show="product.images.length" ng-controller="GalleryController as gallery">
					<img ng-src="{{ product.images[gallery.current].full }}"  width="330" />
					<ul class="list-inline thumbs">
						<li class="thumbnail" ng-repeat="image in product.images" ng-click="gallery.setCurrent($index)">
							<img ng-src="{{image.thumb}}"  width="100" />
						</li>
					</ul>
					
				</div>

				<section class="tab" ng-controller="TabController as tab">
					<ul class="nav nav-pills">
						<li ng-class="{active: tab.isSet(1)}">
							<a href ng-click="tab.setTab(1)">Description</a></li>
						<li ng-class="{active: tab.isSet(2)}">
							<a href ng-click="tab.setTab(2)">Specs</a></li>
						<li ng-class="{active: tab.isSet(3)}">
							<a href ng-click="tab.setTab(3)">Reviews</a></li>
					</ul>

					<div ng-show="tab.isSet(1)">
						<h4>Description</h4>
						<blockquote>{{ product.description }}</blockquote>
					</div>
					<div ng-show="tab.isSet(2)">
						<h4>Specs</h4>
						<blockquote>Shine: {{ product.shine }}</blockquote>
					</div>
					<div ng-show="tab.isSet(3)">
						<h4>Reviews</h4>
						<ul>
							<li ng-repeat="review in product.reviews">
								<blockquote>
									<strong> {{review.stars}} Stars </strong>
									{{review.body}}
									<cite class="clearfix">—{{review.author}}</cite>
								</blockquote>
							</li>													
						</ul>

						<!-- 2. We'll add our ReviewController here. Note: Ctrl is a common naming convention for 'Controller' -->
						<!-- 4. Now we can add the action we want to run using the ng-submit directive, which runs when a form is submitted. -->
						<!-- Note: we can pass in the current product with the keyword 'product', which is the current product in our store.products array from up above. -->
						<form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewCtrl.addReview(product)">
							<!--  Review Form -->
							<h4>Submit a Review</h4>
							<fieldset class="form-group">

								<!-- 2.1 Make sure to update all your references to 'review' to use the review property in our 'reviewCtrl' -->
								<select ng-model="reviewCtrl.review.stars" class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars">
									<option value="">Rate the Product</option>
								</select>
							</fieldset>
							<fieldset class="form-group">
								<textarea ng-model="reviewCtrl.review.body" class="form-control" placeholder="Write a short review of the product..." title="Review"></textarea>
							</fieldset>
							
							<fieldset class="form-group">
								<input type="email" ng-model="reviewCtrl.review.author" class="form-control" placeholder="jimmyDean@example.org" title="Email" />
							</fieldset>
							
							<fieldset class="form-group">
								<input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
							</fieldset>

							<!--  Live Preview -->
							<blockquote>
								<h4>Preview your review:</h4>

								<!-- 2.1 Make sure to update all your references to 'review' to use the review property in our 'reviewCtrl' -->
								<strong>{{reviewCtrl.review.stars}} Stars</strong>
								{{reviewCtrl.review.body}}
								<cite class="clearfix">—{{reviewCtrl.review.author}} </cite>
							</blockquote>

						</form>

					</div>
				</section>
			</li>
		</ul>

	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="app.js"></script>
</body>
</html>