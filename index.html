<!DOCTYPE html>
<html lang="en" ng-app="store">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
	<link href="styles.css" rel="stylesheet">
</head>
<body>
	<div ng-controller="StoreController as store">

		<ul class="list-group">
			<li class="list-group-item" ng-repeat="product in store.products">
					<!-- 1. Let's assume we want to use this same snippet in multiple pages.
							{{product.name}}
							<em class="pull-right"> {{product.price | currency }} </em>
							We'll pull this code out into a new file product-title.html.
					 -->

					 <!-- 1.1 Then we can use ng-include directive to include the file directly in the page. -->
				<!-- <h3 ng-include=" 'product-title.html' "></h3> -->

				<!-- 1.2 Even though ng-include works, Angular prefers that we use a custom directive for situations like this.
					DIRECTIVES allow you to write HTML that expresses the behavior of your application.

					Types of Directives:
						1. Template-expanding Directives - define a custom tag or attribute that is expanded or replaced; Can also include Controller logic if needed.
						2.  Directives can also be used for:
							- Expressing complex UI.
							- Calling events and registering event handlers.
							- Reusing common componenets. -->

				<!-- 1.3 define a directive for <product-title></product-title> in app.js -->
				<!-- <product-title></product-title> -->
				<!-- 1.4 Note: Don't use self closing tags (<product-title />). It screws up older browsers. -->
				<!-- 1.5 Note: Use Element directive for UI and Attribute directives for behaviors (like a tool tip). -->

				<div ng-show="product.images.length" ng-controller="GalleryController as gallery">
					<img ng-src="{{ product.images[gallery.current].full }}"  width="330" />
					<ul class="list-inline thumbs">
						<li class="thumbnail" ng-repeat="image in product.images" ng-click="gallery.setCurrent($index)">
							<img ng-src="{{image.thumb}}"  width="100" />
						</li>
					</ul>
					
				</div>

				<section class="tab" ng-controller="TabController as tab">
					<ul class="nav nav-pills">
						<li ng-class="{active: tab.isSet(1)}">
							<a href ng-click="tab.setTab(1)">Description</a></li>
						<li ng-class="{active: tab.isSet(2)}">
							<a href ng-click="tab.setTab(2)">Specs</a></li>
						<li ng-class="{active: tab.isSet(3)}">
							<a href ng-click="tab.setTab(3)">Reviews</a></li>
					</ul>

					<div ng-show="tab.isSet(1)">
						<h4>Description</h4>
						<blockquote>{{ product.description }}</blockquote>
					</div>
					<div ng-show="tab.isSet(2)">
						<h4>Specs</h4>
						<blockquote>Shine: {{ product.shine }}</blockquote>
					</div>
					<div ng-show="tab.isSet(3)">
						<h4>Reviews</h4>
						<ul>
							<li ng-repeat="review in product.reviews">
								<blockquote>
									<strong> {{review.stars}} Stars </strong>
									{{review.body}}
									<cite class="clearfix">—{{review.author}}</cite>
									
								</blockquote>
							</li>													
						</ul>

						<form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
							<!--  Review Form -->
							<h4>Submit a Review</h4>
							<fieldset class="form-group">
							
								<select ng-model="reviewCtrl.review.stars" class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars" required>
									<option value="">Rate the Product</option>
								</select>
							</fieldset>
							<fieldset class="form-group">
								<textarea ng-model="reviewCtrl.review.body" class="form-control" placeholder="Write a short review of the product..." title="Review" required></textarea>
							</fieldset>
							
							<fieldset class="form-group">
								<input type="email" ng-model="reviewCtrl.review.author" class="form-control" placeholder="jimmyDean@example.org" title="Email" required />
							</fieldset>
							
							reviewForm is {{ reviewForm.$valid }}

							<fieldset class="form-group">
								<input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
							</fieldset>

							<!--  Live Preview -->
							<blockquote>
								<h4>Preview your review:</h4>

								<strong>{{reviewCtrl.review.stars}} Stars</strong>
								{{reviewCtrl.review.body}}
								<cite class="clearfix">—{{reviewCtrl.review.author}} </cite>
							</blockquote>

						</form>

					</div>
				</section>
			</li>
		</ul>

	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="app.js"></script>
</body>
</html>