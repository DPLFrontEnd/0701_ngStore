<!DOCTYPE html>
<html lang="en" ng-app="store">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div ng-controller="StoreController as store">

		<ul class="list-group">
			<li class="list-group-item" ng-repeat="product in store.products">
				<h3>
					{{product.name}}
					<em class="pull-right"> {{product.price | currency }} </em>
				</h3>

				<!-- 4. We're going to replace the image with our gallery controller. -->
				<!-- 4.1 first add the controller using a div with a directive -->
				<!-- 4.2 let's make sure that the gallery only shows if there is an image property on our product using ng-show -->
				<div ng-show="product.images.length" ng-controller="GalleryController as gallery">
					<!-- 4.3 display our image using the ng-src directive. We can get the current image from our array using the gallery.current property we created in our GalleryController. -->
					<img ng-src="{{ product.images[gallery.current].full }}"  width="330" />
					
					<!-- 4.4 Now we need to display our thumbnails to click on. Note: .list-inline.thumbs and .thumbnail are Bootstrap classes. -->
					<ul class="list-inline thumbs">
						<!-- 4.5 We can use the ng-repeat directive to repeat for all the images in the product.images array. -->
						<li class="thumbnail" ng-repeat="image in product.images" ng-click="gallery.setCurrent($index)">
							<!-- 4.6 Pull our thumbnail property out of the image. -->
							<!-- 4.7 we need to change the .current image when an image is clicked using ng-click and the setCurrent function from our GalleryController. Use the Angular $index to get the current thumb index (see: https://docs.angularjs.org/api/ng/directive/ngRepeat) -->
							<img ng-src="{{image.thumb}}"  width="100" />
						</li>
					</ul>
					
				</div>
				<!-- <img ng-src="{{ product.images[0].full }}" > -->


				<section class="tab" ng-controller="TabController as tab">
					<ul class="nav nav-pills">
						<li ng-class="{active: tab.isSet(1)}">
							<a href ng-click="tab.setTab(1)">Description</a></li>
						<li ng-class="{active: tab.isSet(2)}">
							<a href ng-click="tab.setTab(2)">Specs</a></li>
						<li ng-class="{active: tab.isSet(3)}">
							<a href ng-click="tab.setTab(3)">Reviews</a></li>
					</ul>

					<div ng-show="tab.isSet(1)">
						<h4>Description</h4>
						<blockquote>{{ product.description }}</blockquote>
					</div>
					<div ng-show="tab.isSet(2)">
						<h4>Specs</h4>
						<blockquote>Shine: {{ product.shine }}</blockquote>
					</div>
						<div ng-show="tab.isSet(3)">
						<h4>Reviews</h4>
						<blockquote></blockquote>
					</div>
				</section>
			</li>
		</ul>

	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="app.js"></script>
</body>
</html>